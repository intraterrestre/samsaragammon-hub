<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>ğŸš¨ Ambulancia de Juegosâ„¢ â€” Doctores del Nirvana Proâ„¢</title>
  <meta name="description" content="Aplica un shock espiritual a tus juegos de mesa. Elige un Doctor del Nirvana Pro y resucita tus juegos medio muertos creando partidas con voz, efectos de sonido y guÃ­a curvista." />
  <meta name="theme-color" content="#00ff7b" />
  <style>
    :root{
      --green:#00ff7b; --accent:#ffd166; --line:#113c2d;
      --panel:#06130f; --panel2:#0a1d17; --text:#eafff5;
    }
    *{box-sizing:border-box;margin:0;padding:0}
    html,body{height:100%}
    body{
      background:#000; color:var(--text);
      font-family:ui-sans-serif,system-ui,-apple-system,"Segoe UI",Roboto,"Helvetica Neue",Arial;
      line-height:1.55; overflow-x:hidden;
    }

    .matrix-bg{position:fixed; inset:0; z-index:-1; opacity:.14; pointer-events:none}
    .wrap{max-width:1100px; margin:0 auto; padding:20px 16px}

    /* HERO */
    .hero{
      margin-top:5vh; text-align:center; padding:22px 16px;
      border:1px solid var(--line); border-radius:16px; background:var(--panel);
      box-shadow:0 0 38px rgba(0,255,150,.08), inset 0 0 22px rgba(0,255,140,.04);
    }
    .title{
      font-size:clamp(28px,4vw,44px); font-weight:900; letter-spacing:.04em;
      color:var(--green); text-shadow:0 0 10px var(--green),0 0 24px rgba(0,255,150,.35);
    }
    .subtitle{margin-top:8px; color:#cfe; opacity:.95; font-size:clamp(14px,1.9vw,18px)}
    .cta-bar{display:flex; flex-wrap:wrap; gap:10px; justify-content:center; margin-top:16px}
    .btn{
      display:inline-flex; align-items:center; justify-content:center; gap:8px;
      padding:12px 18px; border-radius:999px; border:1px solid var(--green);
      background:linear-gradient(180deg,#02140f,#031b14); color:var(--green);
      text-decoration:none; font-weight:800; letter-spacing:.02em;
      box-shadow:0 0 10px var(--green), 0 0 18px rgba(0,255,140,.45);
      transition:transform .12s ease, box-shadow .2s ease;
    }
    .btn:hover{ transform:translateY(-1px); box-shadow:0 0 16px var(--green),0 0 32px rgba(0,255,140,.55)}
    .btn.alt{ border-color:var(--accent); color:var(--accent);
      box-shadow:0 0 10px var(--accent),0 0 18px rgba(255,209,102,.45) }

    /* === DOCTORES DEL NIRVANA PROâ„¢ === */
    .grid.doctores {
      display: grid;
      grid-template-columns: 1fr;
      gap: 20px;
      margin-top: 28px;
    }
    @media (min-width: 680px) {
      .grid.doctores { grid-template-columns: 1fr 1fr; }
    }
    @media (min-width: 1080px) {
      .grid.doctores { grid-template-columns: 1fr 1fr 1fr; }
    }
    .card.doctor{
      background:var(--panel2); border:1px solid var(--line);
      border-radius:14px; padding:18px; text-align:center;
      box-shadow:0 0 20px rgba(0,255,150,.05), inset 0 0 10px rgba(0,255,140,.03);
      transition:transform .2s ease, box-shadow .25s ease;
    }
    .card.doctor:hover{ transform:translateY(-4px); box-shadow:0 0 30px rgba(0,255,150,.15);}
    .card.doctor h3{color:var(--green); margin-bottom:6px;}
    .card.doctor .muted{color:#bfeee0; opacity:.9; margin-bottom:10px;}
    .card.doctor .tags{color:#ffeb7b; font-weight:700;}

    /* === SIRENA === */
    #sirenaToggle{
      position:fixed; right:16px; bottom:16px; z-index:10000;
      background:#550000; color:#ffaaaa; border:2px solid #ff6666;
      border-radius:999px; padding:10px 20px; font-weight:900;
      font-family:ui-sans-serif; cursor:pointer;
      box-shadow:0 0 20px rgba(255,60,60,.6); transition:all .25s ease;
    }
    #sirenaToggle:hover{transform:scale(1.05);box-shadow:0 0 30px rgba(255,80,80,.8);}
    #lucesEmergencia{position:fixed;inset:0;pointer-events:none;z-index:5;opacity:0;}
    #lucesEmergencia.active{animation:emg 1.1s infinite;opacity:.65;}
    @keyframes emg{
      0%,100%{box-shadow:inset 0 0 200vmax rgba(255,40,40,.35);}
      50%{box-shadow:inset 0 0 200vmax rgba(40,120,255,.35);}
    }
  </style>
</head>
<body>
  <canvas class="matrix-bg" id="matrixBg"></canvas>
  <div class="wrap">
    <header class="hero">
      <h1 class="title">ğŸš¨ Ambulancia de Juegosâ„¢ â€” Doctores del Nirvana Proâ„¢</h1>
      <p class="subtitle">
        Aplica un shock espiritual a tus juegos clÃ¡sicos. Redescubre tus partidas con voz, sabidurÃ­a y energÃ­a.
      </p>
      <div class="cta-bar">
        <a class="btn" href="dm-panel.html">ğŸ§  Abrir DM Panel PRO</a>
      </div>
    </header>

    <section class="grid doctores">
      <div class="card doctor"><h3>ğŸ§˜ Dr. Sidarta â€” El Iluminado</h3><p class="muted">Calma el caos, enfoca la intenciÃ³n y convierte cada tirada en aprendizaje.</p><p class="tags">Resucitador de: D&D, Ten Candles, The Mind</p><a class="btn" href="dm-panel.html?doctor=sidarta">ğŸ’« Consultar al Dr. Sidarta</a></div>
      <div class="card doctor"><h3>ğŸ”® Dr. Hermes Trismegisto</h3><p class="muted">Maestro del equilibrio entre el cielo y la tierra, entre el verbo y el juego.</p><p class="tags">Resucitador de: Monopoly, 7 Wonders, Risk</p><a class="btn" href="dm-panel.html?doctor=hermes">ğŸ’« Consultar al Dr. Hermes</a></div>
      <div class="card doctor"><h3>ğŸ’— Dra. Ananda â€” La Paciente</h3><p class="muted">Escucha, perdona y enseÃ±a que perder es otro modo de ganar sabidurÃ­a.</p><p class="tags">Resucitador de: Catan, Pandemic</p><a class="btn" href="dm-panel.html?doctor=ananda">ğŸ’« Consultar a la Dra. Ananda</a></div>
      <div class="card doctor"><h3>ğŸ“œ Dr. Thoth â€” El Escriba</h3><p class="muted">Observa y registra cada movimiento. Cada palabra crea realidad.</p><p class="tags">Resucitador de: Scrabble, Dixit</p><a class="btn" href="dm-panel.html?doctor=thoth">ğŸ’« Consultar al Dr. Thoth</a></div>
      <div class="card doctor"><h3>ğŸ”” Sibila de Delfos</h3><p class="muted">Su intuiciÃ³n trasciende la estrategia: predice el flujo de la partida.</p><p class="tags">Resucitadora de: Tarot, Dixit</p><a class="btn" href="dm-panel.html?doctor=sibila">ğŸ’« Consultar a la Sibila</a></div>
      <div class="card doctor"><h3>ğŸª¶ Dr. QuetzalcÃ³atl</h3><p class="muted">Renueva lo viejo con aire fresco. EnseÃ±a a morir y volver a jugar.</p><p class="tags">Resucitador de: Carcassonne, Risk</p><a class="btn" href="dm-panel.html?doctor=quetzal">ğŸ’« Consultar al Dr. QuetzalcÃ³atl</a></div>
      <div class="card doctor"><h3>âš›ï¸ Dr. PitÃ¡goras de Samos</h3><p class="muted">Ve en cada dado una ecuaciÃ³n divina. Todo caos tiene geometrÃ­a.</p><p class="tags">Resucitador de: Ajedrez, 7 Wonders</p><a class="btn" href="dm-panel.html?doctor=pitagoras">ğŸ’« Consultar al Dr. PitÃ¡goras</a></div>
      <div class="card doctor"><h3>ğŸ‰ Tao Long</h3><p class="muted">Fluye con la partida, no la controles. Cada derrota es parte del rÃ­o.</p><p class="tags">Resucitador de: Go, Mahjong</p><a class="btn" href="dm-panel.html?doctor=tao">ğŸ’« Consultar al Maestro Tao</a></div>
      <div class="card doctor"><h3>ğŸ‘‘ Nefertari la Clara</h3><p class="muted">Reina de la elegancia. EnseÃ±a que el orden tambiÃ©n puede ser sensual.</p><p class="tags">Resucitadora de: Monopoly, Uno</p><a class="btn" href="dm-panel.html?doctor=nefertari">ğŸ’« Consultar a Nefertari</a></div>
      <div class="card doctor"><h3>ğŸ•¸ï¸ Ixchel la Tejedora</h3><p class="muted">Une lo roto, teje alianzas y redes invisibles que sostienen la victoria.</p><p class="tags">Resucitadora de: Catan, Dixit</p><a class="btn" href="dm-panel.html?doctor=ixchel">ğŸ’« Consultar a Ixchel</a></div>
      <div class="card doctor"><h3>ğŸ’« Dra. Hermana Sophia</h3><p class="muted">FilÃ³sofa del alma alegre. Su sabidurÃ­a es mÃºsica para el ego cansado.</p><p class="tags">Resucitadora de: Pandemic, Scrabble</p><a class="btn" href="dm-panel.html?doctor=sophia">ğŸ’« Consultar a la Dra. Sophia</a></div>
      <div class="card doctor"><h3>â˜¯ï¸ Dr. Li Tzu</h3><p class="muted">Silente pero poderoso: el equilibrio es su receta. Donde hay caos, pone ritmo.</p><p class="tags">Resucitador de: Mahjong, D&D</p><a class="btn" href="dm-panel.html?doctor=litz">ğŸ’« Consultar al Dr. Li Tzu</a></div>
    </section>
  </div>

  <!-- === SIRENA AMBULANCIA (botÃ³n + luces + audio) === -->
<button id="sirenaToggle" aria-pressed="true">ğŸš¨ SIRENA ON â€” Â¡ApÃ¡gala si puedes!</button>
<audio id="sirenaAudio" src="audio/shaolin/sirena.mp3" loop preload="auto" playsinline></audio>
<div id="lucesEmergencia" class="active" aria-hidden="true"></div>

<script>
(function(){
  const btn = document.getElementById('sirenaToggle');
  const audio = document.getElementById('sirenaAudio');
  const fx   = document.getElementById('lucesEmergencia');
  let on = true;
  let userUnlocked = false;

  // Efecto de pulso visual si el navegador bloquea el autoplay
  const css = document.createElement('style');
  css.textContent = `
    #sirenaToggle.need-touch {
      animation: pulseBtn 1.2s ease-in-out infinite;
    }
    @keyframes pulseBtn {
      0% { box-shadow:0 0 10px rgba(255,60,60,.5); transform:scale(1); }
      50%{ box-shadow:0 0 26px rgba(255,60,60,.9); transform:scale(1.05); }
      100%{ box-shadow:0 0 10px rgba(255,60,60,.5); transform:scale(1); }
    }
  `;
  document.head.appendChild(css);

  function uiOn(){
    btn.textContent = 'ğŸš¨ SIRENA ON â€” Â¡ApÃ¡gala si puedes!';
    btn.style.background='#550000'; btn.style.color='#ffaaaa';
    fx.classList.add('active');
    on = true;
  }
  function uiOff(){
    btn.textContent = 'ğŸš‘ SIRENA OFF â€” Silencio en el Templo';
    btn.style.background='#220000'; btn.style.color='#ff6666';
    fx.classList.remove('active');
    on = false;
  }

  async function startAudio(){
    try{
      audio.volume = 1.0;
      await audio.play();
      btn.classList.remove('need-touch');
      userUnlocked = true;
    }catch(e){
      btn.classList.add('need-touch'); // si el navegador bloquea el autoplay
    }
  }

  // Al cargar: intenta sonar
  window.addEventListener('DOMContentLoaded', ()=>{
    uiOn();
    setTimeout(startAudio, 500);
  });

  // Primer clic/tecla = desbloquea audio
  function unlockOnce(){
    if(!userUnlocked && on){ startAudio(); }
    window.removeEventListener('pointerdown', unlockOnce);
    window.removeEventListener('keydown', unlockOnce);
    window.removeEventListener('touchstart', unlockOnce);
  }
  window.addEventListener('pointerdown', unlockOnce, {once:true});
  window.addEventListener('keydown', unlockOnce, {once:true});
  window.addEventListener('touchstart', unlockOnce, {once:true});

  // BotÃ³n manual
  btn.addEventListener('click', async ()=>{
    if(on){
      audio.pause(); audio.currentTime = 0;
      uiOff();
    }else{
      uiOn();
      await startAudio();
    }
  });
})();
</script>
</body>
</html>